---
layout: post
title: IoT에서 사용하는 프로토콜 한 눈에 보기
author: Yangeok
categories: IoT
date: 2020-06-30 09:36
comments: true
tags: [iot, protocol, ble, bluetooth, wifi, zigbee, z-wave, 6lowpan, nfc, gsm, lte, lora, nb-iot, lte-m]
cover: https://res.cloudinary.com/yangeok/image/upload/v1593160497/logo/posts/iot-protocol.jpg
---

원문: [Comparison of Wireless Technologies (Bluetooth, WiFi, BLE, Zigbee, Z-Wave, 6LoWPAN, NFC, WiFi Direct, GSM, LTE, LoRa, NB-IoT, and LTE-M)](https://predictabledesigns.com/wireless_technologies_bluetooth_wifi_zigbee_gsm_lte_lora_nb-iot_lte-m/)

<br> 

---
<br>

## 목차
- [목차](#목차)
- [머릿말](#머릿말)
- [P2P<sup>Peer-to-Peer</sup> 기술](#p2psuppeer-to-peersup-기술)
- [저전력/단거리/저용량 데이터 매쉬형 기술](#저전력단거리저용량-데이터-매쉬형-기술)
- [LAN<sup>Local Area Network</sup> 기술](#lansuplocal-area-networksup-기술)
- [장거리 셀룰러 기술](#장거리-셀룰러-기술)
- [저전력/장거리 기술](#저전력장거리-기술)
- [결론](#결론)

<br> 

---
<br>

## 머릿말
우리 제품에 사용할 무선 기술을 결정하는 것은 아주 어려운 일입니다. 뿐만 아니라 많은 현재 사용가능한 무선 기술이 있을 뿐 아니라 꾸준히 새로운 기술들이 소개되고 있습니다. 제품에 맞는 최고의 무선 기술을 선택하는 과정을 단순화하기 위해 다양한 무선 기술을 기능, 데이터 전송 속도, 작동범위를 기준으로 그룹으로 정리했습니다. 

제품을 의도한 기능대로 만들기 위해 고려해야할 기술군을 결정하는 일은 간단해야 합니다. 예를 들어 9미터 간격을 두고 떨어진 2대의 디바이스간에 적은 양의 데이터 통신이 필요하다면 그 어떤 장거리 혹은 고속 무선 기술은 필요하지 않습니다. 말하자면 특정한 제품에 대한 요구가 없더라도 여러분이 사용할 수 있는 모든 무선 기술에 대한 일반적인 이해를 돕기때문에 이 글 전체를 읽는 것을 추천합니다.

<br> 

---
<br>

## P2P<sup>Peer-to-Peer</sup> 기술
간단히 2대의 디바이스가 직접 연결되어 통신하는 것을 의미합니다. 보통 2대만 P2P 통신에 참여할 수 있습니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487149/iot-protocol/bluetooth-classic.jpg)

- Bluetooth Classic:  가장 잘 알려진 P2P 기술입니다. 작동 거리가 비교적 짧기때문에 꽤나 적은 전원을 사용합니다. WiFi와 셀룰러 기술에 비해 더 적은 전원을 소비합니다. 하지만 BLE나 Zigbee보다는 더 많이 소모합니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487149/iot-protocol/wifi-direct_copy.jpg)

- WiFi<sup>Wireless Fidelity</sup> Direct: 모든 휴대폰 태블릿도 지원하긴 WiFi와 마찬가지기는 합니다. 블루투스처럼, 전통적인 WiFi와는 달리 WiFi Direct는 P2P 기술입니다. 전통적인 WiFi는 여러대의 디바이스를 연결하기 위한 AP를 설치합니다. 하지만 한 대의 디바이스에서 다른 디바이스로 오버헤드 없이 곧바로 데이터를 전송하고 싶은 경우 사용할 수 있습니다. 전통적인 WiFi와 같은 기반기술을 사용하며 같은 주파수와 비슷한 대역과 속도를 제공합니다. 하지만 AP<sup>Access Point</sup>가 필요하지 않고 블루투스와 비슷하게 2대의 디바이스를 곧바로 연결하는게 가능합니다. 블루투스보다 100배 이상 전송속도가 빠른 장점이 있습니다. 속도가 빠른만큼 비용이, 즉 전원소비가 더 발생하긴 합니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487443/iot-protocol/nfc-new.jpg)

- NFC<sup>Near-Field Communication</sup>: 근본적으로 다른 무선 통신들과는 다릅니다. 2개의 코일간에서 발생하는 전자기장을 사용해 통신합니다. 그에 반해 다른 무선 통신 기술은 전파를 통해 통신합니다. NFC가 전자기장으로 연결된 2개의 코일을 통해 통신하기때문에 작동거리가 1~2인치 가량 남짓밖에 되지 않습니다. 2개의 연결된 코일은 원래 공심을 가진 트랜스포머의 형태를 띄고 있습니다. 보통 비접촉 결제 시스템에 많이 사용합니다. 결제 데이터가 암호화되긴 하지만 짧은 작동거리는 누군가가 가까이서 거래를 해킹할 가능성을 제거하는데 도움이 됩니다. 패시브 NFC 태그를 사용하는데, 여기서 패시브란 무전원을 말합니다. 대신 패시브 태그는 NFC 리더 기기의 전자기장에서 전원을 공급받습니다. 양 쪽의 통신과 전원의 이동은 연결된 2개의 코일 사이에서 발생합니다. 패시브 태그는 간단하고, 저렴하고, 작고, 영구성을 갖습니다. 배터리를 포함한 액티브 태그를 사용할 수도 있습니다. 충전매트에 디바이스를 올려놓는 무선충전도 2개의 연결된 코일 사이에서 전원을 이동시키는 현상의 이점을 가져왔습니다.

<br> 

---
<br>

## 저전력/단거리/저용량 데이터 매쉬형 기술
제품에 배터리가 있다면 비교적 적은 양의 데이터를 단거리로 보내는데 필요하다면 아래의 프로토콜이 최고의 솔루션입니다. 망사형 네트워크라고 불리는 다대다 네트워크를 사용합니다. 망사형 네트워크는 B를 거쳐 A에서 C로 데이터를 보냅니다. 서로 연결된 디바이스들을 넓은 영역을 저전력으로 커버할 수 있는 거대한 네트워크를 만들 수 있습니다. 예를 들어 A부터 Z까지 라벨링된 26대의 디바이스가 기기마다 30미터씩 간격으로 한 줄로 세워놨다고 가정해봅시다. 2,500미터 떨어진 A부터 Z까지 데이터를 보내고 싶은 경우에는 전원이 있는 중계기가 필요할 것입니다. 하지만 망사형 네트워크에서는 A에서 B로, B에서 C 식으로 Z까지 데이터를 전달할 수 있습니다. 300미터 이상되는 거리를 중계기가 필요없이 각 디바이스마다 중계기보다 더 적은 전원만 있으면 됩니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487144/iot-protocol/ble.jpg)

- BLE<sup>Bluetooth Low-Energy</sup>: Bluetooth Classic의 저전력 버전입니다. 사실 일반적인 블루투스와는 용도가 완전히 다릅니다. 아마 BLE는 개발한 제품들이 가진 무선 기능의 일반적인 타입일 것입니다. 전력소모를 극단적으로 줄이기 위해 데이터의 송수신을 하기위해 디자인되었습니다. BLE의 용도는 대부분 센서 데이터를 전달하기 위함입니다. 예를 들어, 센서 디바이스는 분 단위로 온도를 측정한다거나 GPS<sup>Global Positioning System</sup> 디바이스는 10분 단위로 위치를 기록하고 전달할 수 있습니다. 대부분 BLE는 작은 셀 배터리로부터 전원을 공급받습니다. BLE 디바이스의 배터리를 오래 보전하기 위해서는 데이터 전송 빈도를 느슨하게 잡아야 합니다. BLE는 제품을 이상적인 솔루션으로 만들기 위해 모바일앱으로 접속할 수 있는 휴대폰과 태블릿을 지원합니다. 1Mbps까지 전송속도를 지원합니다. (Bluetooth Classic은 2~3Mbps까지) 이 섹션의 기술들이 그렇듯, BLE는 망사형 네트워크와 그에 연결할 수 있는 32,767대의 기기까지 지원합니다. 사용하기가 쉽고 전력 소비량이 적으며 광범위하게 지원하기때문에 추천하는 기술입니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487145/iot-protocol/zigbee.jpg)

- Zigbee: BLE와 용도가 여러모로 비슷한 단거리 네트워킹 기술입니다. 마찬가지로 2.4GHz 주파수를 사용하고, 전력 소모량이 적고, BLE와 비슷한 통신거리를 지원하며 망사형 네트워크를 제공합니다. 다만 BLE의 2배인 65,000대의 디바이스를 망사형 네트워크에 포함시킬 수 있습니다. 다만 응용에는 아직까지는 한계가 있는 것으로 보입니다. 우선적으로 스마트 조명, 온도조절, 에너지 모니터링같은 용도로 홈 오토메이션 애플리케이션에 사용됩니다. 또한 산업 자동화, 스마트 미터, 보안 시스템에서도 사용하고 있습니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487144/iot-protocol/z-wave.jpg)

- Z-Wave: Zigbee, BLE와 홈 오토메이션 시장에서 경쟁하는 독점 무선 기술(Silicon Labs에서 2018년부터)입니다. Zigbee, BLE와는 달리 Sub-1GHz 주파수를 사용합니다. 정확한 대역은 복잡한 이유로 나라마다 각기 다릅니다. 미국에서는 908MHz를 그에 반해 유럽에서는 868MHz를 사용합니다. 다른 국가와 지역은 모두 865~921MHz 사이에서 사용합니다. 저주파는 통신 거리를 증가시키고 간섭을 줄이는 2개의 장점이 있습니다. BLE, Zigbee, WiFi 등에 쓰이는 2.4GHz 주파수는 잠재적으로 간섭이 발생할 가능성이 있습니다. Z-Wave가 사용하는 주파수는 상대적으로 덜 혼잡하지만 BLE보다 10배 느린 낮은 데이터 전송속도가 느린 점이 단점입니다. 232대의 다비이스를 연결하는 적은 망사형 네트워크를 지원합니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487144/iot-protocol/6lowpan.jpg)

- 6LoWPAN: 기술의 이름에서 6은 IPv6에서 LoWPAN<sup>Low-power Wireless Personal Area Network</sup>은 저전력 개인통신망을 의미합니다. 원래는 Zigbee의 새로운 경쟁자였지만 WiFi같은 IP기반 네트워크입니다. Zigbee, Z-Wave, 6LoPWAN은 주로 홈 오토메이션 애플리케이션, 스마트 미터에서 사용합니다.

<br> 

---
<br>

## LAN<sup>Local Area Network</sup> 기술
LAN의 커버리지 영역때문에 WiFi = LAN이라고 알려져있습니다. 

![](https://res.cloudinary.com/yangeok/image/upload/v1593489550/iot-protocol/wifi.jpg)

- WiFi: 빠르고, 저렴하고, 설치하기 쉬운 WiFi는 괜찮은 통신거리를 가지고 있으며 광범위하게 사용가능합니다. 가장 큰 단점은 적어도 모바일 제품에서만 사용할 수 있고 전원을 소비한다는 점이 있습니다. WiFi가 제공하는 퍼포먼스가 필요하지 않다면 소비전력이 높기때문에 다른 무선 기술을 사용하는 것이 낫습니다.

<br> 

---
<br>

## 장거리 셀룰러 기술
제품을 클라우드에 접속시켜야 한고 WiFi AP가 따로 없다면 제품은 장거리 통신을 하기위한 셀룰러 통신이 필요할 텐데요. 셀룰러 기술 타입은 데이터 전송속도가 얼마나 빨라야하는지, 제품 판매지가 어디냐에 따라 다릅니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487137/iot-protocol/gsm-gprs.jpg)

- GSM<sup>Global System for Mobile Communications</sup>/GPRS<sup>General Packet Radio Service</sup>: 데이터를 전송하기 위한 GRPS와 연결된 GSM은 오랫동안 많은 양의 데이터를 요구하지 않는 셀룰러 기술에서 사용되어 왔습니다. 넓은 가용성과 상대적으로 낮은 GSM/GPRS 하드웨어 가격때문에 사용합니다. 아쉽지만 이 기술은 끝을 보고 있습니다. 세계적으로 대부분의 통신사는 단계적으로 GSM을 줄여가는 추세이며 많은 양의 데이터 교환을 할 수 있는 4G/5G 대역을 제공하는 중입니다. 적어도 아직까지는 명확한 대체기술이 없습니다. 아마 옵션이라면 GSM 솔루션을 LTE 셀룰러 기술로 하드웨어를 업그레이드하는 것일 것입니다. 다만 비용이 크게 증가합니다.

- LTE<sup>Long Term Evolution</sup>: GSM보다 빠른 전송속도를 지원합니다. 제품이 빠른 셀룰러 전송속도를 요구한다면 LTE는 최고의 선택일 것입니다. 임베디드 GSM 모듈은 중국에서 몇 달러만으로도 구입할 수 있는 반면 LTE는 20달러 이상합니다. IoT 디바이스의 인기에 기술 선택의 차이는 더욱 더 확실하게 되고 있습니다. 이 격차는 몇몇 새로운 무선 기술들로 채워지고 있는 과정이긴 합니다.

<br> 

---
<br>

## 저전력/장거리 기술
IoT 기기로 장거리의 소량의 데이터 통신을 한다면 다른 애플리케이션처럼 기술선택을 확실하게 하기가 어렵습니다. 일반적으로 LPWAN이나 저전력 광범위 네트워크에 적용합니다. 예를 들어 제품이 날씨 데이터를 원격으로 수집하고 자동으로 클라우드에 데이터를 업로드한다면 LPWAN이 필요합니다. 느린 전송속도의 애플리케이션에는 GSM이나 LTE는 적합하지 않습니다. 아래의 기술들은 이에 좋은 솔루션이 되지만 국제 표준인 기술은 없습니다. 

![](https://res.cloudinary.com/yangeok/image/upload/v1593487141/iot-protocol/lora.jpg)

- LoRa<sup>Long Range</sup>/LoRaWAN<sup>Wide Area Network</sup>: 9km 이상의 매우 장거리 통신이 가능한 반면 전력 소비는 적습니다. 독점 기술(Semtech에서 2012년부터)입니다. 지역별로 다른 대역폭을 사용하는데 북미에서는 915MHz를 사용하며 유럽에서는 868MHz를 사용합니다. 다른 지역에서는 169MHz와 433MHz를 사용하고 있습니다. LoRa는 P2P 통신을 사용할 수 있는 기반 기술을 참조합니다. LoRaWAN은 네트워크 프로토콜의 윗쪽 레이어를 사용합니다. 저전력, 장거리, P2P 솔루션을 찾고 있다면 LoRa는 좋은 선택입니다. 일반적으로 LoRa 모듈은 LoRaWAN 모듈보다 더 저렴하게 구입할 수 있습니다. LoRa는 아주 넓은 범위에서 작동시키기 위해 디자인되었으며, 모바일 네트워크에 접속할 수 있는 셀룰러 기술이 아닙니다. 덜 복잡하고 설치하기 저렴하지만 사용할 수 있는 애플리케이션이 한정되어 있습니다. 예를 들어, 상품이 클라우드로의 장거리 접근을 필요로 하면 인터넷에 연결하고 어떤 원격 LoRa 디바이스와도 통신할 수 있는 LoRa 게이트웨이 디바이스를 사용해야 합니다. 작동 범위 안에 LoRa 게이트웨이가 없다고 가정한다면, LoRa는 단일 원격 디바이스에 원격으로 클라우드에 접근하는 방법을 제공하지 않습니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593489664/iot-protocol/nb-iot-new.jpg)

- NB<sup>NarrowBand</sup>-IOT: 셀룰러 기술이라 더 복잡하고 설치하기 비용이 많이 들고 더 많은 전력을 소비합니다. 하지만 높은 퀄리티의 셀룰러 연결을 제공하고 인터넷에 곧바로 접근할 수 있습니다. NB-IOT의 가장 큰 단점은 가용성이 한정되어있다는 점입니다. 미국에서는 아직 지원하지 않고 있으며 현재 유럽에서 시험 중에 있습니다. 하지만 2019년 중으로는 미국에서 사용 가능할 것으로 예측됩니다. 제품에 현재 설치하기에는 적합하지 않지만 몇 년 안에 가능 하게 될 것입니다.

![](https://res.cloudinary.com/yangeok/image/upload/v1593487142/iot-protocol/lte-m.jpg)

- LTE-M<sup>Cat-M1</sup>: 제품이 빠른 데이터 전송률을 가진 장거리 셀룰러가 필요하다면 LTE-M은 최고의 선택지입니다. 이 기술은 4G 모바일 네트워크로 바로 연결할 필요가 있는 IoT 디바이스를 위한 기술입니다. LTE의 부분집합인 기술로 저전력으로 동작하는 낮은 데이터 전송속도를 가진 디바이스에 최적화되어 있습니다. LTE-M은 표준 LTE기술과는 몇몇 결정적인 부분이 다릅니다. 첫번째로 더 제한된 대역폭에서 사용하는 간단한 구조의 칩때문에 설치 비용이 저렴합니다. 두번째로 적은 배터리를 빠르게 소모하면 안되기때문에 전력 소비를 줄이는 것에 최적화되어있습니다. 마지막으로 어디서나 표준 LTE에서 제공하는 것에 가까운 대역폭을 사용하지 않으므로 셀룰러 서비스가 비용이 상당히 덜 듭니다.

<br> 

---
<br>

## 결론
무선 기술 선택의 열쇠는 요구사항을 줄여서 오로지 사용할 수 있는 기술에만 집중할 수 있는 것입니다. 필요로 하는 작동거리, 데이터 전송 속도, 전력 소모 그리고 비용은 무선 기술을 선택하는데 있어 주요한 척도입니다. 당연히 엔지니어링에서 모든 것이 그렇듯 당신만의 방식을 가질 수 없습니다. 예를 들어 넓은 작동거리는 전력 소모를 증가시키고 빠른 데이터 전송속도를 위해서도 마찬가지입니다. 이 척도 사이에서 트레이드-오프는 항상 있을 수밖에 없으며 완벽한 솔루션이란 없습니다. 

장거리, 저전력, 고속 데이터 전송, 저비용인 기술을 찾고 있다면 현실적인 솔루션은 절대 찾을 수 없습니다. 대신 중요시하는 척도를 우선순위로 두고 선택지를 좁혀나가길 추천합니다.

<br> 

---
<br>

다음은 원문에서 제공하는 [무선 기술 비교 차트](https://app.monstercampaigns.com/c/leuyroqokyd6kbbvichd/)입니다. 다음 테이블 형태의 차트는 저작권이 있기때문에 바로 직링크를 걸지 못하는 점 이해 부탁드립니다. 메일링에 가입하시면 메일로 링크를 받아볼 수 있습니다. 한 눈에 무선 기술들을 볼 수 있어 좋으니 꼭 확인해보시길 바랍니다. (스팸같은거 아니에요 😅)

비교 차트에 훨씬 자세히 나와있겠지만 아래와 같이 정리할 수 있었습니다. 

- 작동 거리 ⬆️: LTE, LTE-M, LoRa/LoRaWAN, NB-IOT
- 데이터 전송속도 ⬆️: LTE, LTE-M, WiFi
- 전원 소비 ⬇️: BLE, Zigbee, Z-Wave, LoRa/LoRaWAN, NB-IOT, LTE-M
- 가격 ⬇️: WiFi
- 연결 가능 기기 ⬆️: BLE, Zigbee, Z-Wave

다만 매끄럽게 한국어로 바꾸기 어려운 문장은 의역했음을 고려해주시면 감사하겠습니다. 이 글이 IoT 도메인을 배우는 누군가에게 도움이 되길 바랍니다.